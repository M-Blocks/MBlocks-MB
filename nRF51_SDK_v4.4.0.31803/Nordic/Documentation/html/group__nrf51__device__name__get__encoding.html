<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>0x6D - sd_ble_gap_device_name_get</title>
<link href="tabs.css" rel="stylesheet" type="text/css" />
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="alias.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="alias.js"></script>
<script type="text/javascript" src="jquery.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<script type="text/javascript">
  jQuery(document).ready(function () {
    if(gref){ // Number all _img and _table classes
      gref();
    }
  });
</script>
</head>
<body>
<div id="top"><!-- do not remove this div! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="nordic_small.png"></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">nRF51 SDK
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- Generated by Doxygen 1.8.3.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Overview</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__nrf51__device__name__get__encoding.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">0x6D - sd_ble_gap_device_name_get<div class="ingroups"><a class="el" href="group__nrf51__encoding__functions__serialization.html">BLE S110 Functions</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<h1><a class="anchor" id="nrf51_device_name_get_sec_a"></a>
Function packet format</h1>
<p>Frame format encoding of the <a class="el" href="group___b_l_e___g_a_p___f_u_n_c_t_i_o_n_s.html#ga87e51e8a92f7a1491bd09991ed97b919">sd_ble_gap_device_name_get</a> packet.</p>
<p>Operation Code = 0x6D (109) for sd_ble_gap_device_name_get, see <a class="el" href="group___b_l_e___g_a_p___e_n_u_m_e_r_a_t_i_o_n_s.html#gae39030093ebca17966d1896533d1b556">BLE_GAP_SVCS</a>.</p>
<p>The parameters provided as input to sd_ble_gap_device_name_get are encoded in the following order: </p>
<table  border="0">
<tr>
<td>- 1 byte: </td><td></td><td>Operation Code, Value = 0x6D (109) </td></tr>
<tr>
<td>- 1 byte: </td><td></td><td>Device Name length present </td></tr>
<tr>
<td></td><td></td><td>0x00 Field not present </td></tr>
<tr>
<td></td><td></td><td>0x01 Field present and follows immediately in the packet </td></tr>
<tr>
<td>- 2 bytes: </td><td></td><td><b>Conditional: </b>Device Name buffer Size </td></tr>
<tr>
<td>- 1 byte: </td><td></td><td>Device Name result buffer present </td></tr>
<tr>
<td></td><td></td><td>0x00 Field not present </td></tr>
<tr>
<td></td><td></td><td>0x01 Field present </td></tr>
</table>
<p><br/>
</p>
<div class="image">
<img src="device_name_get_packet.png" alt="device_name_get_packet.png"/>
<div class="caption">
Figure 1: Packet format for sd_ble_gap_device_name_get function.</div></div>
<p> <br/>
</p>
<h1><a class="anchor" id="nrf51_device_name_get_sec_b"></a>
Response packet format</h1>
<p>Frame format encoding of the <a class="el" href="group___b_l_e___g_a_p___f_u_n_c_t_i_o_n_s.html#ga87e51e8a92f7a1491bd09991ed97b919">sd_ble_gap_device_name_get</a> response packet.</p>
<p>In case of an error, the following data is encoded:</p>
<table  border="0">
<tr>
<td>- 1 byte:</td><td></td><td>Operation Code, Value = 0x6D (109) </td></tr>
<tr>
<td>- 1 byte:</td><td width="140"></td><td>nRF Error Code </td></tr>
</table>
<p><br/>
</p>
<div class="image">
<img src="default_error_response_packet.png" alt="default_error_response_packet.png"/>
<div class="caption">
Figure 2: Packet format for sd_ble_gap_device_name_get error response.</div></div>
<p>In case of a successful command, i.e. <code>'nRF Error Code' = <a class="el" href="group__foftt__nrf__error.html#ga7e6367efeaac363d8cf024940b4ec123">NRF_SUCCESS</a></code>, the following data is encoded:</p>
<table  border="0">
<tr>
<td>- 1 byte: </td><td width="140"></td><td>Operation Code, Value = 0x6D (109) </td></tr>
<tr>
<td>- 4 bytes: </td><td></td><td>Error code </td></tr>
<tr>
<td>- 2 bytes: </td><td></td><td>Length of Device Name </td></tr>
<tr>
<td>- 0 ... 20 bytes:</td><td></td><td>Device Name </td></tr>
<tr>
<td></td><td></td><td>'Device Name Length' specifies the actual number of bytes encoded. </td></tr>
</table>
<p><br/>
</p>
<div class="image">
<img src="device_name_get_response_packet.png" alt="device_name_get_response_packet.png"/>
<div class="caption">
Figure 3: Packet format for sd_ble_gap_device_name_get response.</div></div>
<h2><a class="anchor" id="nrf51_device_name_get_response_encoding_sec_d"></a>
Device name data length</h2>
<p>The device name length and device name data will not be returned if the device name length in <a class="el" href="group___b_l_e___g_a_p___f_u_n_c_t_i_o_n_s.html#ga87e51e8a92f7a1491bd09991ed97b919">sd_ble_gap_device_name_get</a> is larger than the internal connectivity buffer size. The caller of the function can not indicate larger buffer than what the command decoder can be able to provide to the SoftDevice. An <a class="el" href="group__foftt__nrf__error.html#ga4c61f2b54667506e90cc296721b2e658">NRF_ERROR_DATA_SIZE</a> will be returned in the error code field of the packet, and no device name length or data will be returned. </p>
</div><!-- contents -->
</div><!-- doc-content -->

    <li class="footer">
      Copyright &copy 2006-2013 <a href="http://www.nordicsemi.no" style="text-decoration:none">Nordic Semiconductor</a>.
      All Rights Reserved.
      <a href="disclaimer.html">Disclaimer</a>
    </li>
   </ul>
 </div>
</body>
</html>
